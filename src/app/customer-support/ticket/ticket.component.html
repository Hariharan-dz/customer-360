<ion-content>
  <section class="whole-content-wrapper">
    <div>
      <ion-breadcrumbs class="brdcrmb">
        <ion-breadcrumb href="#home" class="active">Customer support</ion-breadcrumb>
        <ion-breadcrumb href="#electronics">Ticket</ion-breadcrumb>
      </ion-breadcrumbs>
      <h1 class="common-header top-space">Notifications Overview</h1>
    </div>
    <!-- card -->
    <ion-card class="ion-no-margin work-card">
      <!-- content need to be coded -->
      <ion-row>
        <ion-col size="4" class="incidents">
          <div class="d-flex-XY flex-col border-r">
            <div>
              <h3>no of incidents</h3>
              <ion-label>142</ion-label>
              <div class="open-close">
                <ion-row>
                  <ion-col>
                    <p>Open: <span>12</span></p>
                  </ion-col>
                  <ion-col>
                    <p>Closed: <span>48</span></p>
                  </ion-col>
                </ion-row>
              </div>
            </div>
          </div>
        </ion-col>
        <ion-col size="4" class="incidents">
          <div class="d-flex-XY flex-col border-r">
            <div>
              <h3>problem tickets</h3>
              <ion-label>142</ion-label>
              <div class="open-close">
                <ion-row>
                  <ion-col>
                    <p>Open: <span>12</span></p>
                  </ion-col>
                  <ion-col>
                    <p>Closed: <span>48</span></p>
                  </ion-col>
                </ion-row>
              </div>
            </div>
          </div>
        </ion-col>
        <ion-col size="4" class="incidents">
          <div style="border-right: none;" class="d-flex-XY flex-col border-r">
            <div>
              <h3>service requests</h3>
              <ion-label>142</ion-label>
              <div class="open-close">
                <ion-row>
                  <ion-col>
                    <p>Open: <span>12</span></p>
                  </ion-col>
                  <ion-col>
                    <p>Closed: <span>48</span></p>
                  </ion-col>
                </ion-row>
              </div>
            </div>
          </div>
        </ion-col>
      </ion-row>
    </ion-card>



    <!-- tab change -->
    <ion-grid class="ion-no-padding tab-grid">
      <ion-row style="margin-top: 32px;">
        <ion-col size-lg="6" class="ion-no-padding">
          <!-- <ion-segment value="task" class="ion-segment" swipe-gesture="false" style="width: 600px;">
            <ion-segment-button style="border-right: 1px solid #dadada;" value="task">
              <ion-label>My Task <span class="f-12" style="background-color: transparent;">50</span></ion-label>
            </ion-segment-button>
            <ion-segment-button value="queue">
              <ion-label>Work Queue
                <span class="f-12" style="background-color: transparent;">50</span>
              </ion-label>
            </ion-segment-button>
          </ion-segment> -->
          <div>
            <h1 class="common-header">Ticket History</h1>
          </div>
        </ion-col>
        <ion-col style="display: flex;justify-content: flex-end;" size-lg="6">
          <ion-buttons>
            <ion-button color="primary" class="create-btn" (click)="isCreateTicketModel=true">
              <ion-label class="create-new-task ion-no-padding"><span>+</span> Create New Task</ion-label>
            </ion-button>
          </ion-buttons>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="ion-no-padding" size="12">
          <ion-card class="ion-no-margin my-task-table tab-content">
            <app-data-table [tableDetails]="tickets"></app-data-table>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
    <!-- ion-model -->
    <div class="modal-popup">
      <ion-modal style="--height:calc(100Vh - 120px);--width:720px" [isOpen]="isViewTicket" backdropDismiss="false">
        <ng-template class="model">
          <!-- header -->
          <ion-grid style="margin: 0; padding: 0;">
            <ion-row class="model-inline">
              <ion-col size="12">
                <ion-item lines="" style="--padding-start: 0;margin-top: 26px">
                  <ion-label class="model_header">Ticket Details</ion-label>
                  <!-- <ion-label style="display: contents;"><ion-img class="model-header-right"
                      src="../../../assets/icon/edit.svg"></ion-img>Edit
                    task</ion-label> -->
                </ion-item>
              </ion-col>
            </ion-row>
            <!-- <ion-row class="model-inline">
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Ticket Number</ion-note>
                <ion-label>8762478720</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Ticket Type</ion-note>
                <ion-label>Incident</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Category</ion-note>
                <ion-label>Network issue</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Status</ion-note>
                <ion-label>High</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Assignee</ion-note>
                <ion-label>John Connor</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Priority</ion-note>
                <ion-label>Resolved</ion-label>
              </ion-col>
            </ion-row> -->
            <!-- <ion-row class="margin-col" class="model-inline">

            </ion-row> -->
            <ion-row class="model-inline model-inline scroll-height">
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Ticket Number</ion-note>
                <ion-label>8762478720</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Ticket Type</ion-note>
                <ion-label>Incident</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Category</ion-note>
                <ion-label>Network issue</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Status</ion-note>
                <ion-label>High</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Assignee</ion-note>
                <ion-label>John Connor</ion-label>
              </ion-col>
              <ion-col class="margin-col" size="6">
                <ion-note class="modal-title-heading">Priority</ion-note>
                <ion-label>Resolved</ion-label>
              </ion-col>
              <ion-col size="12">
                <div>
                  <ion-note class="comments-des">Description</ion-note>
                  <p class="com-para">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque non libero
                    quis arcu lobortis
                    vestibulum et in nisi. Duis ac faucibus ligula, eget viverra risus. Duis commodo rhoncus pretium.
                  </p>
                </div>
              </ion-col>
              <ion-col size="12">
                <ion-label class="inform-title">Additional Information</ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-label class="inform-subtitle">Comments</ion-label>
              </ion-col>
              <ion-col style="padding:0px">
                <ion-row class="comments-space">
                  <ion-col size="12">
                    <ion-avatar class="comments-icon">
                      <ion-img src="../../../assets/icon/user.png"></ion-img>
                    </ion-avatar>
                    <div style="margin-top: 5px;">
                      <ion-note style="margin-right: 12px;">John Connor</ion-note>
                      <ion-note style="margin-right: 6px;">25/02/22</ion-note>
                      <ion-note>03:21 PM</ion-note>
                    </div>
                  </ion-col>
                  <ion-col size="12">
                    <p class="feedback-p">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque non
                      libero
                      quis arcu lobortis
                      vestibulum et in nisi. Duis ac faucibus ligula, eget viverra risus. Duis commodo rhoncus pretium.
                      Nunc
                      scelerisque egestas magna, in ullamcorper ante euismod sit amet. Nullam rutrum sit amet mauris et
                      consectetur. Nunc non luctus ante. Curabitur sodales a diam vitae venenatis.</p>
                  </ion-col>
                </ion-row>
                <ion-row class="comments-space">
                  <ion-col size="12">
                    <ion-avatar class="comments-icon">
                      <ion-img src="../../../assets/icon/user.png"></ion-img>
                    </ion-avatar>
                    <div style="margin-top: 5px;">
                      <ion-note style="margin-right: 12px;">John Connor</ion-note>
                      <ion-note style="margin-right: 6px;">25/02/22</ion-note>
                      <ion-note>03:21 PM</ion-note>
                    </div>
                  </ion-col>
                  <ion-col size="12">
                    <p class="feedback-p">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque non
                      libero
                      quis arcu lobortis
                      vestibulum et in nisi. Duis ac faucibus ligula, eget viverra risus. Duis commodo rhoncus pretium.
                      Nunc
                      scelerisque egestas magna, in ullamcorper ante euismod sit amet. Nullam rutrum sit amet mauris et
                      consectetur. Nunc non luctus ante. Curabitur sodales a diam vitae venenatis.</p>
                  </ion-col>
                </ion-row>
              </ion-col>
            </ion-row>
            <!-- <ion-row class="model-inline">
              <ion-col size="12" style="margin: 12px 0px;padding: 0;">
                <ion-label>Add a comment</ion-label>
              </ion-col>
              <ion-col style="padding: 0;" size="12">
                <ion-textarea class="commant-textarea" placeholder="Add comments if any"></ion-textarea>
              </ion-col>
            </ion-row>
            <ion-row class="model-inline">
               <ion-col>
                <ion-buttons>
                  <ion-button>
                    <ion-label>
                      Attach File
                    </ion-label>
                  </ion-button>
                </ion-buttons>
              </ion-col>
              <ion-col style="padding: 0; margin-top: 8px;" offset="6" size="6">
                <ion-buttons class="add-comment">
                  <ion-button color="primary">
                    <ion-label style="color: white;">
                      Submit
                    </ion-label>
                  </ion-button>
                </ion-buttons>
              </ion-col>
            </ion-row> -->
            <ion-row>
              <ion-col size="12" class="model-footer-button">
                <ion-buttons class="close-btn">
                  <ion-button class="close-btn-label" (click)="isViewTicket=false"><ion-label
                      class="menu-btn-label">OK</ion-label></ion-button>
                </ion-buttons>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ng-template>
      </ion-modal>
    </div>
    <!-- create ticket model -->
    <ion-modal style="--height: 700px;--width:720px" [isOpen]="isCreateTicketModel" backdropDismiss="false">
      <ng-template>
        <div class="create-ticket-model">
          <ion-header class="ion-no-border">
            <ion-toolbar>
              <ion-title class="titleText">
                <ion-label class="header-label">
                  Create New Ticket
                </ion-label>
              </ion-title>
            </ion-toolbar>
          </ion-header>
          <ion-content>
            <div class="margindetail">
              <ion-grid class="grid-size">
                <ion-row>
                  <ion-col size="6" class="details">
                    <div class="textbox-left">
                      <ion-label class="content">
                        Ticket number
                      </ion-label>
                      <ion-input class="border" [(ngModel)]="ticket.ticketNo" name="ticketNo"
                        disabled="true"></ion-input>
                    </div>
                  </ion-col>
                  <ion-col size="6">
                    <div class="textbox-right">
                      <ion-label class="content">
                        Category
                        <span class="redcolor">*</span>
                      </ion-label>
                      <ion-input class="border" [(ngModel)]="ticket.queue_name" name="queue_name"
                        placeholder="Queue Name">
                      </ion-input>
                    </div>
                  </ion-col>
                  <ion-col size="6">
                    <div class="textbox-left">
                      <ion-label class="content">
                        Assignee
                      </ion-label>
                      <ion-input placeholder="Assignee" [(ngModel)]="ticket.assignee" name="assignee" class="border">
                      </ion-input>
                    </div>
                  </ion-col>
                  <ion-col size="6" class="details">
                    <div class="textbox-right">
                      <ion-label class="content">
                        Ticket type
                        <span class="redcolor">*</span>
                      </ion-label>
                      <ion-select class="border" (ngModel)="'last30day'" value="Low" name="days"
                        placeholder="Select day" interface="popover">
                        <ion-select-option value="">Incident</ion-select-option>
                        <ion-select-option value="lastt10day">Problem</ion-select-option>
                        <ion-select-option value="last30day">Service Request</ion-select-option>
                      </ion-select>
                    </div>
                  </ion-col>
                  <ion-col size="6">
                    <div class="textbox-left">
                      <ion-label class="content">
                        Description
                        <span class="redcolor">*</span>
                      </ion-label>
                      <ion-input placeholder="Task type" [(ngModel)]="ticket.description" name="description"
                        class="border"></ion-input>
                    </div>
                  </ion-col>
                  <ion-col size="6">
                    <div class="textbox-right">
                      <ion-label class="content">
                        Priority
                        <span class="redcolor">*</span>
                      </ion-label>
                      <ion-select class="border" (ngModel)="'last30day'" value="Low" name="days"
                        placeholder="Select day" interface="popover">
                        <ion-select-option value="">Low</ion-select-option>
                        <ion-select-option value="lastt10day">Medium</ion-select-option>
                        <ion-select-option value="last30day">High</ion-select-option>
                      </ion-select>
                    </div>
                  </ion-col>
                  <ion-col size="6">
                    <div class="textbox-left">
                      <ion-label class="content">
                        Status
                        <span class="redcolor">*</span>
                      </ion-label>
                      <ion-select class="border" (ngModel)="'last30day'" value="Open" name="Open" interface="popover"
                        disabled="true">
                        <ion-select-option value="">Open</ion-select-option>
                        <ion-select-option value="inprogress">Inprogress</ion-select-option>
                        <ion-select-option value="close">Close</ion-select-option>
                      </ion-select>
                    </div>
                  </ion-col>
                  <ion-col size="12" style="padding-top: 20px ;">
                    <div>
                      <ion-label class="content">
                        Description
                      </ion-label>
                      <ion-textarea class="border" [(ngModel)]="ticket.description" name="description"
                        placeholder="Enter a task description" style="height: 70px;">
                      </ion-textarea>
                    </div>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </div>
          </ion-content>
          <ion-footer>
            <ion-grid>
              <ion-row>
                <ion-col size="6">
                </ion-col>
                <ion-col size="6">
                  <ion-buttons style="float: right; margin-right: 30px;">
                    <ion-button color="secondary" (click)="isCreateTicketModel=false">
                      <ion-label>Cancel</ion-label>
                    </ion-button>
                    <ion-button class="save-button" (click)="saveTicket()" style="margin-left: 16px;" color="primary">
                      <ion-label style="color: #FFFFFF;">Save</ion-label>
                    </ion-button>
                  </ion-buttons>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-footer>
        </div>
      </ng-template>
    </ion-modal>
  </section>
</ion-content>
