<section class="whole-content-wrapper">
  <ion-grid class="ion-no-padding">
    <ion-row>
      <ion-col size="12">
        <h1 class="common-header">Orders Overview</h1>
      </ion-col>
      <ion-col size="12">
        <ion-card style="margin: 0;" class="card-box-shadow">
          <ion-row style="padding: 24px 30px;">
            <ion-col size="3.5" style="border-inline-end: 1px solid #DADADA; margin-right: 36px;">
              <ion-label class="card_header">Last purchase date</ion-label>
              <ion-note class="card_content"> {{lastPurchaseData?.purchase_order_date || '12-Feb 2023'}} </ion-note>
              <ion-note class="card_value">$ 80.00</ion-note>
            </ion-col>
            <ion-col size="3.5" style="border-inline-end: 1px solid #DADADA;  margin-right: 36px">
              <ion-label class="card_header" style="margin-bottom: 36px;">Average Purchase value</ion-label>
              <ion-note class="card_value">$ {{orderDetails.average_order_amount}}</ion-note>
            </ion-col>
            <ion-col size="3.5" style=" margin-right: 36px">
              <ion-label class="card_header" style="margin-bottom: 36px;">total purchase value</ion-label>
              <ion-note class="card_value">$ {{orderDetails.total_order_amount}}</ion-note>
            </ion-col>
          </ion-row>
        </ion-card>
      </ion-col>
      <ion-col size="12">
        <h1 class="common-header" style="margin-top: 32px;">Purchase History</h1>
      </ion-col>
      <ion-col size="12">
        <app-data-table *ngIf="isInitTriggered" #template_grid [tableDetails]="orderOverView"></app-data-table>
      </ion-col>
    </ion-row>
  </ion-grid>
</section>

<!-- Pop over -->
<div class="modal-popup">
  <ion-modal style="--height: auto;--width:565px; --border-radius:10px;" [isOpen]="isOpen" [backdropDismiss]=false>
    <ng-template class="model">
      <!-- header -->
      <ion-grid style="margin: 0; padding: 0;">
        <ion-row class="model-inline">
          <ion-col size="12">
            <ion-item lines="" style="--padding-start: 0;">
              <ion-label class="model_header">PURCHASE HISTORY</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="model-inline">
        </ion-row>
        <ion-row class="model-inline scroll-height">
          <ion-col class="margin-col" size="6">
            <ion-note class="modal-title-heading">ORDER NUMBER</ion-note>
            <ion-label>{{order.order_number}}</ion-label>
          </ion-col>
          <ion-col class="margin-col" size="6">
            <ion-note class="modal-title-heading">CREATED DATE</ion-note>
            <ion-label>{{order.order_date}}</ion-label>
          </ion-col>
          <ion-col class="margin-col" size="6">
            <ion-note class="modal-title-heading">GRAND TOTAL AMOUNT</ion-note>
            <ion-label>{{order.order_amount}}</ion-label>
          </ion-col>
          <ion-col class="margin-col" size="6">
            <ion-note class="modal-title-heading">SALES ORDER STATUS</ion-note>
            <ion-label>{{order.sales_order_status}}</ion-label>
          </ion-col>
        </ion-row>
        <ion-footer>
          <ion-row>
            <ion-col size="12" class="model-footer-button">
              <ion-buttons class="close-btn">
                <ion-button class="close-btn-label" (click)="isOpen=false"><ion-label
                    class="menu-btn-text">OK</ion-label></ion-button>
              </ion-buttons>
            </ion-col>
          </ion-row>
        </ion-footer>
      </ion-grid>
    </ng-template>
  </ion-modal>
</div>